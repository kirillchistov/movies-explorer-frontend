[{"/Users/kirillchistov/Projects/movies-explorer-frontend/src/index.js":"1","/Users/kirillchistov/Projects/movies-explorer-frontend/src/App.js":"2","/Users/kirillchistov/Projects/movies-explorer-frontend/src/reportWebVitals.js":"3","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/App/App.jsx":"4","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/ProtectedRoute/ProtectedRoute.jsx":"5","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Header/Header.jsx":"6","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Main/Main.jsx":"7","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/NotFound/NotFound.jsx":"8","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Footer/Footer.jsx":"9","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Movies/Movies.jsx":"10","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Register/Register.jsx":"11","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Login/Login.jsx":"12","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Profile/Profile.jsx":"13","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.jsx":"14","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Signup/Signup.jsx":"15","/Users/kirillchistov/Projects/movies-explorer-frontend/src/utils/MainApi.js":"16","/Users/kirillchistov/Projects/movies-explorer-frontend/src/utils/MoviesApi.js":"17","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Techs/Techs.jsx":"18","/Users/kirillchistov/Projects/movies-explorer-frontend/src/utils/auth.js":"19","/Users/kirillchistov/Projects/movies-explorer-frontend/src/utils/constants.js":"20","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/TechContent/TechContent.jsx":"21","/Users/kirillchistov/Projects/movies-explorer-frontend/src/contexts/CurrentUserContext.js":"22","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Navigation/Navigation.jsx":"23","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Account/Account.jsx":"24","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Burger/Burger.jsx":"25","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AboutMe/AboutMe.jsx":"26","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AboutMeContent/AboutMeContent.jsx":"27","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Title/Title.jsx":"28","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/SectionBlock/SectionBlock.jsx":"29","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Portfolio/Portfolio.jsx":"30","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AboutProject/AboutProject.jsx":"31","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AboutProjectContent/AboutProjectContent.jsx":"32","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AuthForm/AuthForm.jsx":"33","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AuthHeader/AuthHeader.jsx":"34","/Users/kirillchistov/Projects/movies-explorer-frontend/src/hooks/useFormWithValidation.js":"35","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Banner/Banner.jsx":"36","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/NavTab/NavTab.jsx":"37","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Promo/Promo.jsx":"38","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Search/Search.jsx":"39","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/SearchForm/SearchForm.jsx":"40","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.jsx":"41","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/MoviesCard/MoviesCard.jsx":"42","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/More/More.jsx":"43","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Preloader/Preloader.jsx":"44","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/ErrorMessage/ErrorMessage.jsx":"45","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/ToggleSwitch/ToggleSwitch.jsx":"46","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/FilterCheckbox/FilterCheckbox.jsx":"47","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/HeaderAuthorized/HeaderAuthorized.jsx":"48","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/HeaderUnauthorized/HeaderUnauthorized.jsx":"49"},{"size":661,"mtime":1670425129833,"results":"50","hashOfConfig":"51"},{"size":528,"mtime":1670275718439,"results":"52","hashOfConfig":"51"},{"size":362,"mtime":1670275718440,"results":"53","hashOfConfig":"51"},{"size":13050,"mtime":1671394017724,"results":"54","hashOfConfig":"51"},{"size":527,"mtime":1670469514849,"results":"55","hashOfConfig":"51"},{"size":625,"mtime":1671394577178,"results":"56","hashOfConfig":"51"},{"size":594,"mtime":1670469514832,"results":"57","hashOfConfig":"51"},{"size":532,"mtime":1670766158415,"results":"58","hashOfConfig":"51"},{"size":966,"mtime":1670423204397,"results":"59","hashOfConfig":"51"},{"size":2092,"mtime":1673336611418,"results":"60","hashOfConfig":"51"},{"size":1298,"mtime":1670473141891,"results":"61","hashOfConfig":"51"},{"size":1153,"mtime":1670472522689,"results":"62","hashOfConfig":"51"},{"size":5594,"mtime":1673336611419,"results":"63","hashOfConfig":"51"},{"size":1705,"mtime":1673336611419,"results":"64","hashOfConfig":"51"},{"size":374,"mtime":1670767086195,"results":"65","hashOfConfig":"51"},{"size":2049,"mtime":1670406619962,"results":"66","hashOfConfig":"51"},{"size":920,"mtime":1670406592675,"results":"67","hashOfConfig":"51"},{"size":466,"mtime":1670471793401,"results":"68","hashOfConfig":"51"},{"size":1462,"mtime":1670405970507,"results":"69","hashOfConfig":"51"},{"size":1142,"mtime":1670839403525,"results":"70","hashOfConfig":"51"},{"size":851,"mtime":1673336611420,"results":"71","hashOfConfig":"51"},{"size":223,"mtime":1670411329442,"results":"72","hashOfConfig":"51"},{"size":978,"mtime":1670423370220,"results":"73","hashOfConfig":"51"},{"size":309,"mtime":1670766228578,"results":"74","hashOfConfig":"51"},{"size":337,"mtime":1671364715564,"results":"75","hashOfConfig":"51"},{"size":514,"mtime":1670471822876,"results":"76","hashOfConfig":"51"},{"size":1953,"mtime":1671273164566,"results":"77","hashOfConfig":"51"},{"size":189,"mtime":1671003149967,"results":"78","hashOfConfig":"51"},{"size":314,"mtime":1670423571230,"results":"79","hashOfConfig":"51"},{"size":1752,"mtime":1671041625185,"results":"80","hashOfConfig":"51"},{"size":500,"mtime":1670471715029,"results":"81","hashOfConfig":"51"},{"size":1619,"mtime":1670423128000,"results":"82","hashOfConfig":"51"},{"size":3775,"mtime":1670766224749,"results":"83","hashOfConfig":"51"},{"size":504,"mtime":1670423168283,"results":"84","hashOfConfig":"51"},{"size":915,"mtime":1670473052834,"results":"85","hashOfConfig":"51"},{"size":320,"mtime":1670989002651,"results":"86","hashOfConfig":"51"},{"size":696,"mtime":1673336611419,"results":"87","hashOfConfig":"51"},{"size":309,"mtime":1671003300371,"results":"88","hashOfConfig":"51"},{"size":1300,"mtime":1670507608202,"results":"89","hashOfConfig":"51"},{"size":633,"mtime":1673336611419,"results":"90","hashOfConfig":"51"},{"size":2418,"mtime":1670472624490,"results":"91","hashOfConfig":"51"},{"size":1836,"mtime":1671272624559,"results":"92","hashOfConfig":"51"},{"size":287,"mtime":1670767072046,"results":"93","hashOfConfig":"51"},{"size":364,"mtime":1670418203035,"results":"94","hashOfConfig":"51"},{"size":858,"mtime":1670472469757,"results":"95","hashOfConfig":"51"},{"size":683,"mtime":1673336611420,"results":"96","hashOfConfig":"51"},{"size":549,"mtime":1670507619471,"results":"97","hashOfConfig":"51"},{"size":1039,"mtime":1673336611418,"results":"98","hashOfConfig":"51"},{"size":231,"mtime":1671394669383,"results":"99","hashOfConfig":"51"},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"jfyic3",{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113"},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","suppressedMessages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","suppressedMessages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","suppressedMessages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","suppressedMessages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","suppressedMessages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","suppressedMessages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"153","messages":"154","suppressedMessages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","suppressedMessages":"158","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"159","messages":"160","suppressedMessages":"161","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"162","messages":"163","suppressedMessages":"164","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"165","messages":"166","suppressedMessages":"167","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","suppressedMessages":"170","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"171","messages":"172","suppressedMessages":"173","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"174","messages":"175","suppressedMessages":"176","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"177","messages":"178","suppressedMessages":"179","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"180","messages":"181","suppressedMessages":"182","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"183","messages":"184","suppressedMessages":"185","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"186","messages":"187","suppressedMessages":"188","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"189","messages":"190","suppressedMessages":"191","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"192","messages":"193","suppressedMessages":"194","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"195","messages":"196","suppressedMessages":"197","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"198","messages":"199","suppressedMessages":"200","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"201","messages":"202","suppressedMessages":"203","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"204","messages":"205","suppressedMessages":"206","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"207","messages":"208","suppressedMessages":"209","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"210","messages":"211","suppressedMessages":"212","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"213","messages":"214","suppressedMessages":"215","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"216","messages":"217","suppressedMessages":"218","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"219","messages":"220","suppressedMessages":"221","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"222","messages":"223","suppressedMessages":"224","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"225"},{"filePath":"226","messages":"227","suppressedMessages":"228","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"229","messages":"230","suppressedMessages":"231","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"232","messages":"233","suppressedMessages":"234","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"235","messages":"236","suppressedMessages":"237","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"238","messages":"239","suppressedMessages":"240","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"241","messages":"242","suppressedMessages":"243","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"244","messages":"245","suppressedMessages":"246","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"247","messages":"248","suppressedMessages":"249","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/kirillchistov/Projects/movies-explorer-frontend/src/index.js",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/App.js",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/reportWebVitals.js",[],[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/App/App.jsx",["250"],[],"//  App — корневой компонент приложения, его создаёт CRA  //\n//  Импорт библиотек  //\nimport React, { useEffect, useState } from 'react';\nimport {\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\n\n//  Импорт всех компонентов  //\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport NotFound from '../NotFound/NotFound';\nimport Movies from '../Movies/Movies';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport Profile from '../Profile/Profile';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Footer from '../Footer/Footer';\nimport auth from '../../utils/auth';\nimport mainApi from '../../utils/MainApi.js';\nimport moviesApi from '../../utils/MoviesApi';\n//  Импорт контекста пользователя  //\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n//  Импорт локальных стилей  //\nimport './App.css';\n\n//  Компонент приложения с хуками, состояниями и эффектами жизненного цикла  //\n//  Стейты авторизации, прелоудера, ошибок, стартового набора фильмов, поиска и т.д.  //\nconst App = () => {\n  const history = useHistory();\n  const location = useLocation();\n  \n  const [loggedIn, setloggedIn] = useState(false);\n  \n  const [currentUser, setCurrentUser] = useState({\n    name: 'Kirill',\n    email: 'kirill.v.chistov@yandex.ru',\n  });\n  \n  const [isLoading, setIsLoading] = useState(true);\n  \n  const [requestSignUpError, setRequestSignUpError] = useState({\n    isRequestError: false,\n    messageRequestError: '',\n  });\n  const [requestSignInError, setRequestSignInError] = useState({\n    isRequestError: false,\n    messageRequestError: '',\n  });\n  const [requestEditProfileError, setRequestEditProfileError] = useState({\n    isRequestError: false,\n    messageRequestError: '',\n  });\n  \n  const [allMovies, setAllMovies] = useState([]);\n  const [filteredMovies, setFilteredMovies] = useState([]);\n  const [savedMovies, setSavedMovies] = useState([]);\n  const [filteredSavedMovies, setFilteredSavedMovies] = useState([]);\n\n  const [requestSearchError, setRequestSearchError] = useState({\n    isRequestError: false,\n    messageRequestError: '',\n  });\n\n  //  Обработчик логина  //\n  const handleSignIn = (data) => {\n    auth\n      .signInApi(data)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('jwt', res.token);\n          handleTokenCheck();\n          history.push('/movies');\n        }\n      })\n      .catch((err) => {\n        console.log('Ошибка авторизации');\n        console.log(err);\n        if (err.statusCode === 400) {\n          err.message = 'Вы ввели неправильный логин или пароль';\n        }\n        setRequestSignInError({\n          isRequestError: true,\n          messageRequestError: err.message,\n        });\n      });\n  }\n\n  // Обработчик проверки токена  //\n  const handleTokenCheck = () => {\n    // console.log('check');\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      auth\n        .authApi(token)\n        .then((res) => {\n          if (res) {\n            setloggedIn(true);\n            setCurrentUser({ name: res.name, email: res.email });\n            mainApi.setToken(token);\n            history.push(location.pathname);\n          }\n        })\n        .catch((err) => {\n          console.log(`Возникла ошибка. ${err}`);\n          console.log(err);\n          if (err.statusCode === 401) {\n            handleSignOut();\n          }\n        });\n      // return;\n    }\n    // handleSignOut();\n  }\n\n  //  Обработчик регистрации  //\n  const handleSignUp = (data) => {\n    auth\n      .signUpApi(data)\n      .then((res) => {\n        if (res) {\n          handleSignIn(data);\n        }\n      })\n      .catch((err) => {\n        console.log('Ошибка регистрации');\n        setRequestSignUpError({\n          isRequestError: true,\n          messageRequestError: err.message,\n        });\n      });\n  }\n\n  //  Обработчик выхода из аккаунта  //\n  const handleSignOut = () => {\n    localStorage.clear();\n    setloggedIn(false);\n    setAllMovies([]);\n    setSavedMovies([]);\n    setFilteredMovies([]);\n    setFilteredSavedMovies([]);\n    setCurrentUser({\n      name: '',\n      email: '',\n    });\n    history.push('/');\n  }\n\n  //  Обработчик редактирования профиля  //\n  const handleUpdateProfile= (data) => {\n    mainApi\n      .editProfileApi(data)\n      .then((res) => {\n        if (res) {\n          setCurrentUser({ name: res.name, email: res.email });\n          setRequestEditProfileError({\n            isRequestError: true,\n            messageRequestError: 'Данные обновлены',\n          });\n        }\n      })\n      .catch((err) => {\n        console.log('Ошибка обновления профиля');\n        setRequestEditProfileError({\n          isRequestError: true,\n          messageRequestError: err.message,\n        });\n      });\n  }\n\n  useEffect(() => {\n    handleTokenCheck();\n  }, []);\n\n  //  Хук поиска по фильмам  //\n  useEffect(() => {\n    setRequestSearchError({\n      isRequestError: false,\n      messageRequestError: '',\n    });  \n    if (loggedIn) {\n      // localStorage.setItem('shortMovie', false);\n      // localStorage.setItem('searchText', '');\n      getAllMovies();\n      getSavedMovies();\n      if (localStorage.getItem('searchMovies')) {\n        setFilteredMovies(JSON.parse(localStorage.getItem('searchMovies')));\n        if (JSON.parse(localStorage.getItem('searchMovies')).length === 0) {\n          setRequestSearchError({\n            isRequestError: true,\n            messageRequestError: 'Ничего не найдено',\n          });\n        }\n        setIsLoading(false);\n      }\n    }\n  }, [loggedIn]);\n\n  useEffect(() => {\n    if (location.pathname === '/movies') {\n      if (!localStorage.getItem('searchMovies')) {\n        setRequestSearchError({\n          isRequestError: false,\n          messageRequestError: '',\n        });\n      }\n    }\n    if (location.pathname === '/saved-movies') {\n      setRequestSearchError({\n        isRequestError: false,\n        messageRequestError: '',\n      });  \n      setFilteredSavedMovies(savedMovies);\n    }\n  }, [location, savedMovies]);\n\n  //  Получение коллекции всех фильмов  //\n  const getAllMovies = () => {\n    if (localStorage.getItem('allMovies')) {\n      setAllMovies(JSON.parse(localStorage.getItem('allMovies')));\n    } else {\n      moviesApi\n        .getAllMovies()\n        .then((data) => {\n          localStorage.setItem('allMovies', JSON.stringify(data));\n          setAllMovies(data);\n        })\n        .catch((err) => {\n          console.log(err);\n          setRequestSearchError({\n            isRequestError: true,\n            messageRequestError:\n              'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз',\n          });\n        });\n    }\n  }\n\n  //  Получение сохраненных фильмов  //\n  const getSavedMovies = () => {\n    mainApi\n      .getSavedMovies()\n      .then((data) => {\n        setSavedMovies(data);\n        setFilteredSavedMovies(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  //  Обработчик сохранения избранных фильмов  //\n  const handleAddSavedMovies = (card) => {\n    addSavedMovies(card);\n  }\n\n  const addSavedMovies = (card) => {\n    mainApi\n      .addMovie(card)\n      .then((data) => {\n        setSavedMovies([...savedMovies, data]);\n        setFilteredSavedMovies([...savedMovies, data]);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // Удаление из избранного\n  const handlerRemoveSavedMovies = (card) => {\n    savedMovies.forEach((i) => {\n      if (i.movieId === card.id) {\n        removeSavedMovies(i);\n      }\n    });\n  }\n\n  //  Удаление из избранного  //\n  const removeSavedMovies = (card) => {\n    mainApi\n      .removeMovie(card._id)\n      .then(() => {\n        setSavedMovies(savedMovies.filter((i) => i.movieId !== card.movieId));\n        setFilteredSavedMovies(\n          savedMovies.filter((i) => i.movieId !== card.movieId),\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  //  Обработка избранного - проверка наличия закладки  //\n  const handleBookmark = (card) => {\n    if (!onCheckBookmark(card)) {\n      handleAddSavedMovies(card);\n    } else {\n      handlerRemoveSavedMovies(card);\n    }\n  }\n\n  const onCheckBookmark = (card) => {\n    return savedMovies.some((i) => i.movieId === card.id);\n  }\n  //  Поиск по фильмам  //\n  const searchMovie = (searchText) => {\n    const allMoviesPage = location.pathname === '/movies';\n    const savedMoviesPage = location.pathname === '/saved-movies';\n    const movies = allMoviesPage ? allMovies : savedMovies;\n\n    setIsLoading(true);\n    setRequestSearchError({ isRequestError: false, messageRequestError: '' });\n\n    const filter = movies.filter((i) =>\n      i.nameRU.toLowerCase().includes(searchText.toLowerCase()),\n    );\n\n    if (savedMoviesPage) {\n      setRequestSearchError({\n        isRequestError: false,\n        messageRequestError: '',\n      });\n      if (!searchText) {\n        setRequestSearchError({\n          isRequestError: true,\n          messageRequestError: 'Введите ключевое слово',\n        });\n        // return;\n      }\n      setFilteredSavedMovies(filter);\n    }\n\n    if (allMoviesPage) {\n      if (!searchText) {\n        setRequestSearchError({\n          isRequestError: true,\n          messageRequestError: 'Введите ключевое слово',\n        });\n        localStorage.removeItem('searchMovies');\n        setFilteredMovies([]);\n        setIsLoading(false);\n        return;\n      }\n      setRequestSearchError({\n        isRequestError: false,\n        messageRequestError: '',\n      });\n      setFilteredMovies(filter);\n      localStorage.setItem('searchMovies', JSON.stringify(filter));\n    }\n\n    if (filter.length === 0) {\n      setRequestSearchError({\n        isRequestError: true,\n        messageRequestError: 'Ничего не найдено',\n      });\n      setIsLoading(false);\n    }\n\n    setIsLoading(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='page'>\n        <Switch>\n          <Route exact path='/'>\n            <Header loggedIn={loggedIn} />\n            <Main loggedIn={loggedIn} />\n            <Footer />\n          </Route>\n\n          <ProtectedRoute\n            component={Movies}\n            exact path='/movies'\n            loggedIn={loggedIn}\n            isLoading={isLoading}\n            movies={filteredMovies}\n            searchMovie={searchMovie}\n            onBookmark={handleBookmark}\n            onCheckBookmark={onCheckBookmark}\n            setRequestSearchError={setRequestSearchError}\n            requestSearchError={requestSearchError}\n          />\n\n          <ProtectedRoute\n            component={SavedMovies}\n            exact\n            path='/saved-movies'\n            loggedIn={loggedIn}\n            isLoading={isLoading}\n            movies={filteredSavedMovies}\n            searchMovie={searchMovie}\n            removeSavedMovies={removeSavedMovies}\n            setRequestSearchError={setRequestSearchError}\n            requestSearchError={requestSearchError}\n          />\n\n          <ProtectedRoute\n            component={Profile}\n            exact\n            path='/profile'\n            loggedIn={loggedIn}\n            onSignOut={handleSignOut}\n            onUpdateProfile={handleUpdateProfile}\n            requestEditProfileError={requestEditProfileError}\n          />\n\n          <Route path='/signin'>\n            {loggedIn ? (\n              <Redirect to='/movies' />\n            ) : (\n              <Login\n                onSignIn={handleSignIn}\n                requestSignInError={requestSignInError}\n              />\n            )}\n          </Route>\n\n          <Route path='/signup'>\n            {loggedIn ? (\n              <Redirect to='/movies' />\n            ) : (\n              <Register\n                onSignUp={handleSignUp}\n                requestSignUpError={requestSignUpError}\n              />\n            )}\n          </Route>\n\n          <Route>\n            <NotFound />\n          </Route>\n        </Switch>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/ProtectedRoute/ProtectedRoute.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Header/Header.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Main/Main.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/NotFound/NotFound.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Footer/Footer.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Movies/Movies.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Register/Register.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Login/Login.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Profile/Profile.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Signup/Signup.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/utils/MainApi.js",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/utils/MoviesApi.js",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Techs/Techs.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/utils/auth.js",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/utils/constants.js",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/TechContent/TechContent.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/contexts/CurrentUserContext.js",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Navigation/Navigation.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Account/Account.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Burger/Burger.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AboutMe/AboutMe.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AboutMeContent/AboutMeContent.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Title/Title.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/SectionBlock/SectionBlock.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Portfolio/Portfolio.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AboutProject/AboutProject.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AboutProjectContent/AboutProjectContent.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AuthForm/AuthForm.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/AuthHeader/AuthHeader.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/hooks/useFormWithValidation.js",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Banner/Banner.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/NavTab/NavTab.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Promo/Promo.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Search/Search.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/SearchForm/SearchForm.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.jsx",["251"],[],"//  Компонент с коллекцией фильмов  //\n//  Используем стейты для подсчета числа карточек и ширины экрана  //\nimport React, { useEffect, useState } from 'react';\nimport './MoviesCardList.css';\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport More from '../More/More';\nimport * as params from '../../utils/constants';\nimport { useLocation } from 'react-router-dom';\n\nconst MoviesCardList = ({\n  onBookmark,\n  onCheckBookmark,\n  removeSavedMovies,\n  movies,\n}) => {\n  const location = useLocation();\n  const savedMoviesPage = location.pathname === '/saved-movies';\n\n  const [moviesOnView, setMoviesOnView] = useState(0);\n  const [screen, setScreen] = useState(window.innerWidth);\n\n  const countCards = () => {\n    if (screen >= params.LARGESCREEN) {\n      setMoviesOnView(params.DEFAULTONLARGESCREEN);\n    } else if (screen < params.LARGESCREEN && screen >= params.MIDDLESCREEN) {\n      setMoviesOnView(params.DEFAULTONMIDDLESCREEN);\n    } else if (screen <= params.MIDDLESCREEN) {\n      setMoviesOnView(params.DEFAULTONSMALLSCREEN);\n    }\n  }\n\n  useEffect(() => {\n    countCards();\n  }, []);\n\n  window.onresize = function () {\n    setTimeout(() => {\n      countCards();\n      setScreen(window.innerWidth);\n    }, 1000);\n  };\n\n  const handleLoadMore = () => {\n    if (screen >= params.LARGESCREEN) {\n      setMoviesOnView(moviesOnView + params.INCREASEONLARGESCREEN);\n    } else if (screen < params.LARGESCREEN && screen >= params.MIDDLESCREEN) {\n      setMoviesOnView(moviesOnView + params.INCREASEONMIDDLESCREEN);\n    } else if (screen <= params.MIDDLESCREEN) {\n      setMoviesOnView(moviesOnView + params.INCREASEONSMALLSCREEN);\n    }\n  }\n\n  return (\n    <section className='movies'>\n      <ul className='movies__elements'>\n        {movies.slice(0, savedMoviesPage ? movies.length : moviesOnView).map((item) => (\n          <MoviesCard\n            key={item.id || item.movieId}\n            card={item}\n            onBookmark={onBookmark}\n            onCheckBookmark={onCheckBookmark}\n            removeSavedMovies={removeSavedMovies}\n          />\n        ))}\n      </ul>\n\n      {/* скрыть кнопку если карточек нет или мало */}\n      {!savedMoviesPage && movies.length > moviesOnView && (\n        <More onLoadMore={handleLoadMore} />\n      )}\n    </section>\n  );\n}\n\nexport default MoviesCardList;\n","/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/MoviesCard/MoviesCard.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/More/More.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Preloader/Preloader.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/ErrorMessage/ErrorMessage.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/ToggleSwitch/ToggleSwitch.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/FilterCheckbox/FilterCheckbox.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/HeaderAuthorized/HeaderAuthorized.jsx",[],[],"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/HeaderUnauthorized/HeaderUnauthorized.jsx",[],[],{"ruleId":"252","severity":1,"message":"253","line":177,"column":6,"nodeType":"254","endLine":177,"endColumn":8,"suggestions":"255"},{"ruleId":"252","severity":1,"message":"256","line":34,"column":6,"nodeType":"254","endLine":34,"endColumn":8,"suggestions":"257"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleTokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["258"],"React Hook useEffect has a missing dependency: 'countCards'. Either include it or remove the dependency array.",["259"],{"desc":"260","fix":"261"},{"desc":"262","fix":"263"},"Update the dependencies array to be: [handleTokenCheck]",{"range":"264","text":"265"},"Update the dependencies array to be: [countCards]",{"range":"266","text":"267"},[4918,4920],"[handleTokenCheck]",[1094,1096],"[countCards]"]