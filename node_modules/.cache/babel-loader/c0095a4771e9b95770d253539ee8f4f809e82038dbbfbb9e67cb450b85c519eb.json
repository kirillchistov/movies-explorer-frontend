{"ast":null,"code":"var _jsxFileName = \"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Movies/Movies.jsx\",\n  _s = $RefreshSig$();\n//   Movies — компонент страницы с поиском по фильмам  //\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport './Movies.css';\nimport Header from '../Header/Header';\nimport Search from '../Search/Search';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport ErrorMessage from '../ErrorMessage/ErrorMessage';\nimport Footer from '../Footer/Footer';\nimport Preloader from '../Preloader/Preloader';\nimport { SHORTFILM } from '../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Movies = _ref => {\n  _s();\n  let {\n    onBookmark,\n    onCheckBookmark,\n    setRequestSearchError,\n    requestSearchError,\n    searchMovie,\n    movies,\n    loggedIn,\n    isLoading\n  } = _ref;\n  const location = useLocation();\n  const [isShort, setIsShort] = useState(false);\n  const handleIsShort = () => {\n    setIsShort(!isShort);\n    localStorage.setItem('shortMovie', !isShort);\n  };\n  useEffect(() => {\n    if (localStorage.getItem('shortMovie')) {\n      setIsShort(JSON.parse(localStorage.getItem('shortMovie')));\n    }\n  }, [location]);\n  const listMovies = isShort ? movies.filter(item => item.duration <= SHORTFILM) : movies;\n  useEffect(() => {\n    setRequestSearchError({\n      isRequestError: false,\n      messageRequestError: ''\n    });\n    listMovies.length === 0 && setRequestSearchError({\n      isRequestError: true,\n      messageRequestError: 'Ничего не найдено'\n    });\n  }, [isShort, listMovies.length, setRequestSearchError]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      loggedIn: loggedIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        onIsShort: handleIsShort,\n        isShort: isShort,\n        searchMovie: searchMovie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        requestSearchError: requestSearchError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 23\n      }, this), !isLoading && /*#__PURE__*/_jsxDEV(MoviesCardList, {\n        onBookmark: onBookmark,\n        onCheckBookmark: onCheckBookmark,\n        movies: listMovies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Movies, \"x16n33YahHJGffdaFN+ucuIUxiM=\", false, function () {\n  return [useLocation];\n});\n_c = Movies;\nexport default Movies;\nvar _c;\n$RefreshReg$(_c, \"Movies\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","Header","Search","MoviesCardList","ErrorMessage","Footer","Preloader","SHORTFILM","Movies","onBookmark","onCheckBookmark","setRequestSearchError","requestSearchError","searchMovie","movies","loggedIn","isLoading","location","isShort","setIsShort","handleIsShort","localStorage","setItem","getItem","JSON","parse","listMovies","filter","item","duration","isRequestError","messageRequestError","length"],"sources":["/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/Movies/Movies.jsx"],"sourcesContent":["//   Movies — компонент страницы с поиском по фильмам  //\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport './Movies.css';\n\nimport Header from '../Header/Header';\nimport Search from '../Search/Search';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport ErrorMessage from '../ErrorMessage/ErrorMessage';\n\nimport Footer from '../Footer/Footer';\nimport Preloader from '../Preloader/Preloader';\n\nimport { SHORTFILM } from '../../utils/constants';\n\nconst Movies = ({\n  onBookmark,\n  onCheckBookmark,\n  setRequestSearchError,\n  requestSearchError,\n  searchMovie,\n  movies,\n  loggedIn,\n  isLoading,\n}) => {\n  const location = useLocation();\n  const [isShort, setIsShort] = useState(false);\n  \n  const handleIsShort = () => {\n    setIsShort(!isShort);\n    localStorage.setItem('shortMovie', !isShort);\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem('shortMovie')) {\n      setIsShort(JSON.parse(localStorage.getItem('shortMovie')));\n    }\n  }, [location]);\n\n  const listMovies = isShort\n    ? movies.filter((item) => item.duration <= SHORTFILM)\n    : movies;\n\n  useEffect(() => {\n    setRequestSearchError({\n      isRequestError: false,\n      messageRequestError: '',\n    });\n    listMovies.length === 0 &&\n      setRequestSearchError({\n        isRequestError: true,\n        messageRequestError: 'Ничего не найдено',\n      });\n  }, [isShort, listMovies.length, setRequestSearchError]);\n\n  return (\n    <>\n      <Header loggedIn={loggedIn} />\n      <main className='content'>\n        <Search\n          onIsShort={handleIsShort}\n          isShort={isShort}\n          searchMovie={searchMovie}\n        />\n\n        <ErrorMessage requestSearchError={requestSearchError} />\n\n        {isLoading && <Preloader />}\n\n        {!isLoading && (\n          <MoviesCardList\n            onBookmark={onBookmark}\n            onCheckBookmark={onCheckBookmark}\n            movies={listMovies}\n          />\n        )}\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default Movies;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,cAAc;AAErB,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,cAAc,MAAM,kCAAkC;AAC7D,OAAOC,YAAY,MAAM,8BAA8B;AAEvD,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,SAAS,MAAM,wBAAwB;AAE9C,SAASC,SAAS,QAAQ,uBAAuB;AAAC;AAAA;AAElD,MAAMC,MAAM,GAAG,QAST;EAAA;EAAA,IATU;IACdC,UAAU;IACVC,eAAe;IACfC,qBAAqB;IACrBC,kBAAkB;IAClBC,WAAW;IACXC,MAAM;IACNC,QAAQ;IACRC;EACF,CAAC;EACC,MAAMC,QAAQ,GAAGjB,WAAW,EAAE;EAC9B,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMqB,aAAa,GAAG,MAAM;IAC1BD,UAAU,CAAC,CAACD,OAAO,CAAC;IACpBG,YAAY,CAACC,OAAO,CAAC,YAAY,EAAE,CAACJ,OAAO,CAAC;EAC9C,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACd,IAAIuB,YAAY,CAACE,OAAO,CAAC,YAAY,CAAC,EAAE;MACtCJ,UAAU,CAACK,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACE,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;IAC5D;EACF,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;EAEd,MAAMS,UAAU,GAAGR,OAAO,GACtBJ,MAAM,CAACa,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,QAAQ,IAAItB,SAAS,CAAC,GACnDO,MAAM;EAEVhB,SAAS,CAAC,MAAM;IACda,qBAAqB,CAAC;MACpBmB,cAAc,EAAE,KAAK;MACrBC,mBAAmB,EAAE;IACvB,CAAC,CAAC;IACFL,UAAU,CAACM,MAAM,KAAK,CAAC,IACrBrB,qBAAqB,CAAC;MACpBmB,cAAc,EAAE,IAAI;MACpBC,mBAAmB,EAAE;IACvB,CAAC,CAAC;EACN,CAAC,EAAE,CAACb,OAAO,EAAEQ,UAAU,CAACM,MAAM,EAAErB,qBAAqB,CAAC,CAAC;EAEvD,oBACE;IAAA,wBACE,QAAC,MAAM;MAAC,QAAQ,EAAEI;IAAS;MAAA;MAAA;MAAA;IAAA,QAAG,eAC9B;MAAM,SAAS,EAAC,SAAS;MAAA,wBACvB,QAAC,MAAM;QACL,SAAS,EAAEK,aAAc;QACzB,OAAO,EAAEF,OAAQ;QACjB,WAAW,EAAEL;MAAY;QAAA;QAAA;QAAA;MAAA,QACzB,eAEF,QAAC,YAAY;QAAC,kBAAkB,EAAED;MAAmB;QAAA;QAAA;QAAA;MAAA,QAAG,EAEvDI,SAAS,iBAAI,QAAC,SAAS;QAAA;QAAA;QAAA;MAAA,QAAG,EAE1B,CAACA,SAAS,iBACT,QAAC,cAAc;QACb,UAAU,EAAEP,UAAW;QACvB,eAAe,EAAEC,eAAgB;QACjC,MAAM,EAAEgB;MAAW;QAAA;QAAA;QAAA;MAAA,QAEtB;IAAA;MAAA;MAAA;MAAA;IAAA,QACI,eACP,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG;EAAA,gBACT;AAEP,CAAC;AAAA,GAjEKlB,MAAM;EAAA,QAUOR,WAAW;AAAA;AAAA,KAVxBQ,MAAM;AAmEZ,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}