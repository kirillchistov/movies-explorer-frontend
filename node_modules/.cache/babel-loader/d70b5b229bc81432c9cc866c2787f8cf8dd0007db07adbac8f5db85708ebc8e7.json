{"ast":null,"code":"var _jsxFileName = \"/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/App/App.jsx\",\n  _s = $RefreshSig$();\n//  Импорт библиотек  //\nimport React from 'react';\nimport { Redirect, Route, Switch, useHistory, useLocation } from 'react-router-dom';\n//  Импорт всех компонентов  //\nimport ProtectedRoute from '../ProtectedRoute';\nimport Header from '../Header';\nimport Main from '../Main';\nimport NotFound from '../NotFound';\nimport Movies from '../Movies';\nimport Register from '../Register';\nimport Login from '../Login';\nimport Profile from '../Profile';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Footer from '../Footer';\nimport auth from '../../utils/auth.js';\nimport mainApi from '../../utils/MainApi';\nimport moviesApi from '../../utils/MoviesApi';\n//  Импорт контекста пользователя  //\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n//  Импорт локальных стилей  //\nimport './App.css';\n\n//  Компонент приложения с хуками, состояниями и эффектами жизненного цикла  //\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const history = useHistory();\n  const location = useLocation();\n\n  //  Авторизация  //\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  //  Активный пользователь  //\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    email: ''\n  });\n  //  Ожидание загрузки данных  //\n  const [isLoading, setIsLoading] = React.useState(true);\n  //  Ошибки регистрации, авторизации и редактирования профиля  //\n  const [requestSignUpError, setRequestSignUpError] = React.useState({\n    isRequestError: false,\n    messageRequestError: ''\n  });\n  const [requestSignInError, setRequestSignInError] = React.useState({\n    isRequestError: false,\n    messageRequestError: ''\n  });\n  const [requestEditProfileError, setRequestEditProfileError] = React.useState({\n    isRequestError: false,\n    messageRequestError: ''\n  });\n\n  //  Карточки фильмов при загрузке  //\n  const [allMovies, setAllMovies] = React.useState([]);\n  const [filteredMovies, setFilteredMovies] = React.useState([]);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [filteredSavedMovies, setFilteredSavedMovies] = React.useState([]);\n\n  // Ошибка поиска  //\n  const [requestSearchError, setRequestSearchError] = React.useState({\n    isRequestError: false,\n    messageRequestError: ''\n  });\n\n  //  Обработка авторизации  //\n  const handleSignIn = data => {\n    auth.signInApi(data).then(res => {\n      if (res.token) {\n        localStorage.setItem('jwt', res.token);\n        handleTokenCheck();\n        history.push('/movies');\n      }\n    }).catch(err => {\n      console.log('Ошибка авторизации');\n      console.log(err);\n      if (err.statusCode === 400) {\n        err.message = 'Неправильный логин или пароль';\n      }\n      setRequestSignInError({\n        isRequestError: true,\n        messageRequestError: err.message\n      });\n    });\n  };\n\n  //  Проверка токена  //\n  function handleTokenCheck() {\n    // console.log('check');\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      auth.authApi(token).then(res => {\n        if (res) {\n          setIsLoggedIn(true);\n          setCurrentUser({\n            name: res.name,\n            email: res.email\n          });\n          mainApi.setToken(token);\n          history.push(location.pathname);\n        }\n      }).catch(err => {\n        console.log(`Возникла ошибка. ${err}`);\n        console.log(err);\n        if (err.statusCode === 401) {\n          handleSignOut();\n        }\n      });\n      // return;\n    }\n    // handleSignOut();\n  }\n\n  //  Регистрация  //\n  function handleSignUp(data) {\n    auth.signUpApi(data).then(res => {\n      if (res) {\n        handleSignIn(data);\n      }\n    }).catch(err => {\n      console.log('Ошибка регистрации');\n      setRequestSignUpError({\n        isRequestError: true,\n        messageRequestError: err.message\n      });\n    });\n  }\n\n  //  Выход и очистка localStorage   //\n  function handleSignOut() {\n    localStorage.clear();\n    setIsLoggedIn(false);\n    setAllMovies([]);\n    setSavedMovies([]);\n    setFilteredMovies([]);\n    setFilteredSavedMovies([]);\n    setCurrentUser({\n      name: '',\n      email: ''\n    });\n    history.push('/');\n  }\n\n  //  Обновление профиля  //\n  function handleUpdateProfile(data) {\n    mainApi.editProfileApi(data).then(res => {\n      if (res) {\n        setCurrentUser({\n          name: res.name,\n          email: res.email\n        });\n        setRequestEditProfileError({\n          isRequestError: true,\n          messageRequestError: 'Данные обновлены'\n        });\n      }\n    }).catch(err => {\n      console.log('Ошибка обновления профиля');\n      setRequestEditProfileError({\n        isRequestError: true,\n        messageRequestError: err.message\n      });\n    });\n  }\n  React.useEffect(() => {\n    handleTokenCheck();\n  }, [handleTokenCheck]);\n\n  //  Фильмы   //\n  React.useEffect(() => {\n    setRequestSearchError({\n      isRequestError: false,\n      messageRequestError: ''\n    });\n    if (isLoggedIn) {\n      // localStorage.setItem('shortMovie', false);\n      // localStorage.setItem('searchText', '');\n      getAllMovies();\n      getSavedMovies();\n      if (localStorage.getItem('searchMovies')) {\n        setFilteredMovies(JSON.parse(localStorage.getItem('searchMovies')));\n        if (JSON.parse(localStorage.getItem('searchMovies')).length === 0) {\n          setRequestSearchError({\n            isRequestError: true,\n            messageRequestError: 'Ничего не найдено'\n          });\n        }\n        setIsLoading(false);\n      }\n    }\n  }, [isLoggedIn]);\n  React.useEffect(() => {\n    if (location.pathname === '/movies') {\n      if (!localStorage.getItem('searchMovies')) {\n        setRequestSearchError({\n          isRequestError: false,\n          messageRequestError: ''\n        });\n      }\n    }\n    if (location.pathname === '/saved-movies') {\n      setRequestSearchError({\n        isRequestError: false,\n        messageRequestError: ''\n      });\n      setFilteredSavedMovies(savedMovies);\n    }\n  }, [location, savedMovies]);\n  const getAllMovies = () => {\n    if (localStorage.getItem('allMovies')) {\n      setAllMovies(JSON.parse(localStorage.getItem('allMovies')));\n    } else {\n      moviesApi.getAllMovies().then(data => {\n        localStorage.setItem('allMovies', JSON.stringify(data));\n        setAllMovies(data);\n      }).catch(err => {\n        console.log(err);\n        setRequestSearchError({\n          isRequestError: true,\n          messageRequestError: 'Во время запроса произошла ошибка соединения с сервером. Возможно, сервер недоступен. Подождите немного и попробуйте ещё раз'\n        });\n      });\n    }\n  };\n  const getSavedMovies = () => {\n    mainApi.getSavedMovies().then(data => {\n      setSavedMovies(data);\n      setFilteredSavedMovies(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  // сохранить в избранное\n  const handlerAddSavedMovies = card => {\n    addSavedMovies(card);\n  };\n  function addSavedMovies(card) {\n    mainApi.addMovie(card).then(data => {\n      setSavedMovies([...savedMovies, data]);\n      setFilteredSavedMovies([...savedMovies, data]);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  // убрать из избранного\n  function handlerRemoveSavedMovies(card) {\n    savedMovies.forEach(i => {\n      if (i.movieId === card.id) {\n        removeSavedMovies(i);\n      }\n    });\n  }\n  function removeSavedMovies(card) {\n    mainApi.removeMovie(card._id).then(() => {\n      setSavedMovies(savedMovies.filter(i => i.movieId !== card.movieId));\n      setFilteredSavedMovies(savedMovies.filter(i => i.movieId !== card.movieId));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  // проверка наличия у фильма отметки избранного\n  function handleBookmark(card) {\n    if (!onCheckBookmark(card)) {\n      handlerAddSavedMovies(card);\n    } else {\n      handlerRemoveSavedMovies(card);\n    }\n  }\n  function onCheckBookmark(card) {\n    return savedMovies.some(i => i.movieId === card.id);\n  }\n  // Поиск в Фильмы\n  function searchMovie(searchText) {\n    // getAllMovies();\n    const allMoviesPage = location.pathname === '/movies';\n    const savedMoviesPage = location.pathname === '/saved-movies';\n    const movies = allMoviesPage ? allMovies : savedMovies;\n    setIsLoading(true);\n    setRequestSearchError({\n      isRequestError: false,\n      messageRequestError: ''\n    });\n    // setFilteredMovies([]);\n\n    const filter = movies.filter(i => i.nameRU.toLowerCase().includes(searchText.toLowerCase()));\n    if (savedMoviesPage) {\n      setRequestSearchError({\n        isRequestError: false,\n        messageRequestError: ''\n      });\n      if (!searchText) {\n        setRequestSearchError({\n          isRequestError: true,\n          messageRequestError: 'Нужно ввести ключевое слово'\n        });\n        // return;\n      }\n\n      setFilteredSavedMovies(filter);\n    }\n    if (allMoviesPage) {\n      if (!searchText) {\n        setRequestSearchError({\n          isRequestError: true,\n          messageRequestError: 'Нужно ввести ключевое слово'\n        });\n        localStorage.removeItem('searchMovies');\n        setFilteredMovies([]);\n        setIsLoading(false);\n        return;\n      }\n      setRequestSearchError({\n        isRequestError: false,\n        messageRequestError: ''\n      });\n      setFilteredMovies(filter);\n      localStorage.setItem('searchMovies', JSON.stringify(filter));\n    }\n    if (filter.length === 0) {\n      setRequestSearchError({\n        isRequestError: true,\n        messageRequestError: 'Ничего не найдено'\n      });\n      setIsLoading(false);\n    }\n    setIsLoading(false);\n  }\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            isLoggedIn: isLoggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Main, {\n            isLoggedIn: isLoggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          component: Movies,\n          exact: true,\n          path: \"/movies\",\n          isLoggedIn: isLoggedIn,\n          isLoading: isLoading,\n          movies: filteredMovies,\n          searchMovie: searchMovie,\n          onBookmark: handleBookmark,\n          onCheckBookmark: onCheckBookmark,\n          setRequestSearchError: setRequestSearchError,\n          requestSearchError: requestSearchError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          component: SavedMovies,\n          exact: true,\n          path: \"/saved-movies\",\n          isLoggedIn: isLoggedIn,\n          isLoading: isLoading,\n          movies: filteredSavedMovies,\n          searchMovie: searchMovie,\n          removeSavedMovies: removeSavedMovies,\n          setRequestSearchError: setRequestSearchError,\n          requestSearchError: requestSearchError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          component: Profile,\n          exact: true,\n          path: \"/profile\",\n          isLoggedIn: isLoggedIn,\n          onSignOut: handleSignOut,\n          onUpdateProfile: handleUpdateProfile,\n          requestEditProfileError: requestEditProfileError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          children: isLoggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/movies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Register, {\n            onSignUp: handleSignUp,\n            requestSignUpError: requestSignUpError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signin\",\n          children: isLoggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/movies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Login, {\n            onSignIn: handleSignIn,\n            requestSignInError: requestSignInError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          children: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 367,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"Cs/9qDA1LrMSgT1w10IknbabEog=\", false, function () {\n  return [useHistory, useLocation];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Redirect","Route","Switch","useHistory","useLocation","ProtectedRoute","Header","Main","NotFound","Movies","Register","Login","Profile","SavedMovies","Footer","auth","mainApi","moviesApi","CurrentUserContext","App","history","location","isLoggedIn","setIsLoggedIn","useState","currentUser","setCurrentUser","name","email","isLoading","setIsLoading","requestSignUpError","setRequestSignUpError","isRequestError","messageRequestError","requestSignInError","setRequestSignInError","requestEditProfileError","setRequestEditProfileError","allMovies","setAllMovies","filteredMovies","setFilteredMovies","savedMovies","setSavedMovies","filteredSavedMovies","setFilteredSavedMovies","requestSearchError","setRequestSearchError","handleSignIn","data","signInApi","then","res","token","localStorage","setItem","handleTokenCheck","push","catch","err","console","log","statusCode","message","getItem","authApi","setToken","pathname","handleSignOut","handleSignUp","signUpApi","clear","handleUpdateProfile","editProfileApi","useEffect","getAllMovies","getSavedMovies","JSON","parse","length","stringify","handlerAddSavedMovies","card","addSavedMovies","addMovie","handlerRemoveSavedMovies","forEach","i","movieId","id","removeSavedMovies","removeMovie","_id","filter","handleBookmark","onCheckBookmark","some","searchMovie","searchText","allMoviesPage","savedMoviesPage","movies","nameRU","toLowerCase","includes","removeItem"],"sources":["/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/App/App.jsx"],"sourcesContent":["//  Импорт библиотек  //\nimport React from 'react';\nimport {\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\n//  Импорт всех компонентов  //\nimport ProtectedRoute from '../ProtectedRoute';\nimport Header from '../Header';\nimport Main from '../Main';\nimport NotFound from '../NotFound';\nimport Movies from '../Movies';\nimport Register from '../Register';\nimport Login from '../Login';\nimport Profile from '../Profile';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Footer from '../Footer';\nimport auth from '../../utils/auth.js';\nimport mainApi from '../../utils/MainApi';\nimport moviesApi from '../../utils/MoviesApi';\n//  Импорт контекста пользователя  //\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n//  Импорт локальных стилей  //\nimport './App.css';\n\n//  Компонент приложения с хуками, состояниями и эффектами жизненного цикла  //\nconst App = () => {\n  const history = useHistory();\n  const location = useLocation();\n  \n  //  Авторизация  //\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  //  Активный пользователь  //\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    email: '',\n  });\n  //  Ожидание загрузки данных  //\n  const [isLoading, setIsLoading] = React.useState(true);\n  //  Ошибки регистрации, авторизации и редактирования профиля  //\n  const [requestSignUpError, setRequestSignUpError] = React.useState({\n    isRequestError: false,\n    messageRequestError: '',\n  });\n  const [requestSignInError, setRequestSignInError] = React.useState({\n    isRequestError: false,\n    messageRequestError: '',\n  });\n  const [requestEditProfileError, setRequestEditProfileError] = React.useState({\n    isRequestError: false,\n    messageRequestError: '',\n  });\n  \n  //  Карточки фильмов при загрузке  //\n  const [allMovies, setAllMovies] = React.useState([]);\n  const [filteredMovies, setFilteredMovies] = React.useState([]);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [filteredSavedMovies, setFilteredSavedMovies] = React.useState([]);\n\n  // Ошибка поиска  //\n  const [requestSearchError, setRequestSearchError] = React.useState({\n    isRequestError: false,\n    messageRequestError: '',\n  });\n\n  //  Обработка авторизации  //\n  const handleSignIn = (data) => {\n    auth\n      .signInApi(data)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('jwt', res.token);\n          handleTokenCheck();\n          history.push('/movies');\n        }\n      })\n      .catch((err) => {\n        console.log('Ошибка авторизации');\n        console.log(err);\n        if (err.statusCode === 400) {\n          err.message = 'Неправильный логин или пароль';\n        }\n        setRequestSignInError({\n          isRequestError: true,\n          messageRequestError: err.message,\n        });\n      });\n  }\n\n  //  Проверка токена  //\n  function handleTokenCheck() {\n    // console.log('check');\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      auth\n        .authApi(token)\n        .then((res) => {\n          if (res) {\n            setIsLoggedIn(true);\n            setCurrentUser({ name: res.name, email: res.email });\n            mainApi.setToken(token);\n            history.push(location.pathname);\n          }\n        })\n        .catch((err) => {\n          console.log(`Возникла ошибка. ${err}`);\n          console.log(err);\n          if (err.statusCode === 401) {\n            handleSignOut();\n          }\n        });\n      // return;\n    }\n    // handleSignOut();\n  }\n\n  //  Регистрация  //\n  function handleSignUp(data) {\n    auth\n      .signUpApi(data)\n      .then((res) => {\n        if (res) {\n          handleSignIn(data);\n        }\n      })\n      .catch((err) => {\n        console.log('Ошибка регистрации');\n        setRequestSignUpError({\n          isRequestError: true,\n          messageRequestError: err.message,\n        });\n      });\n  }\n\n  //  Выход и очистка localStorage   //\n  function handleSignOut() {\n    localStorage.clear();\n    setIsLoggedIn(false);\n    setAllMovies([]);\n    setSavedMovies([]);\n    setFilteredMovies([]);\n    setFilteredSavedMovies([]);\n    setCurrentUser({\n      name: '',\n      email: '',\n    });\n    history.push('/');\n  }\n\n  //  Обновление профиля  //\n  function handleUpdateProfile(data) {\n    mainApi\n      .editProfileApi(data)\n      .then((res) => {\n        if (res) {\n          setCurrentUser({ name: res.name, email: res.email });\n          setRequestEditProfileError({\n            isRequestError: true,\n            messageRequestError: 'Данные обновлены',\n          });\n        }\n      })\n      .catch((err) => {\n        console.log('Ошибка обновления профиля');\n        setRequestEditProfileError({\n          isRequestError: true,\n          messageRequestError: err.message,\n        });\n      });\n  }\n\n  React.useEffect(() => {\n    handleTokenCheck();\n  }, [handleTokenCheck]);\n\n  //  Фильмы   //\n  React.useEffect(() => {\n    setRequestSearchError({\n      isRequestError: false,\n      messageRequestError: '',\n    });  \n    if (isLoggedIn) {\n      // localStorage.setItem('shortMovie', false);\n      // localStorage.setItem('searchText', '');\n      getAllMovies();\n      getSavedMovies();\n      if (localStorage.getItem('searchMovies')) {\n        setFilteredMovies(JSON.parse(localStorage.getItem('searchMovies')));\n        if (JSON.parse(localStorage.getItem('searchMovies')).length === 0) {\n          setRequestSearchError({\n            isRequestError: true,\n            messageRequestError: 'Ничего не найдено',\n          });\n        }\n        setIsLoading(false);\n      }\n    }\n  }, [isLoggedIn]);\n\n  React.useEffect(() => {\n    if (location.pathname === '/movies') {\n      if (!localStorage.getItem('searchMovies')) {\n        setRequestSearchError({\n          isRequestError: false,\n          messageRequestError: '',\n        });\n      }\n    }\n    if (location.pathname === '/saved-movies') {\n      setRequestSearchError({\n        isRequestError: false,\n        messageRequestError: '',\n      });  \n      setFilteredSavedMovies(savedMovies);\n    }\n  }, [location, savedMovies]);\n\n  const getAllMovies = () => {\n    if (localStorage.getItem('allMovies')) {\n      setAllMovies(JSON.parse(localStorage.getItem('allMovies')));\n    } else {\n      moviesApi\n        .getAllMovies()\n        .then((data) => {\n          localStorage.setItem('allMovies', JSON.stringify(data));\n          setAllMovies(data);\n        })\n        .catch((err) => {\n          console.log(err);\n          setRequestSearchError({\n            isRequestError: true,\n            messageRequestError:\n              'Во время запроса произошла ошибка соединения с сервером. Возможно, сервер недоступен. Подождите немного и попробуйте ещё раз',\n          });\n        });\n    }\n  }\n\n  const getSavedMovies = () => {\n    mainApi\n      .getSavedMovies()\n      .then((data) => {\n        setSavedMovies(data);\n        setFilteredSavedMovies(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // сохранить в избранное\n  const handlerAddSavedMovies = (card) => {\n    addSavedMovies(card);\n  }\n\n  function addSavedMovies(card) {\n    mainApi\n      .addMovie(card)\n      .then((data) => {\n        setSavedMovies([...savedMovies, data]);\n        setFilteredSavedMovies([...savedMovies, data]);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // убрать из избранного\n  function handlerRemoveSavedMovies(card) {\n    savedMovies.forEach((i) => {\n      if (i.movieId === card.id) {\n        removeSavedMovies(i);\n      }\n    });\n  }\n\n  function removeSavedMovies(card) {\n    mainApi\n      .removeMovie(card._id)\n      .then(() => {\n        setSavedMovies(savedMovies.filter((i) => i.movieId !== card.movieId));\n        setFilteredSavedMovies(\n          savedMovies.filter((i) => i.movieId !== card.movieId),\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // проверка наличия у фильма отметки избранного\n  function handleBookmark(card) {\n    if (!onCheckBookmark(card)) {\n      handlerAddSavedMovies(card);\n    } else {\n      handlerRemoveSavedMovies(card);\n    }\n  }\n\n  function onCheckBookmark(card) {\n    return savedMovies.some((i) => i.movieId === card.id);\n  }\n  // Поиск в Фильмы\n  function searchMovie(searchText) {\n    // getAllMovies();\n    const allMoviesPage = location.pathname === '/movies';\n    const savedMoviesPage = location.pathname === '/saved-movies';\n    const movies = allMoviesPage ? allMovies : savedMovies;\n\n    setIsLoading(true);\n    setRequestSearchError({ isRequestError: false, messageRequestError: '' });\n    // setFilteredMovies([]);\n\n    const filter = movies.filter((i) =>\n      i.nameRU.toLowerCase().includes(searchText.toLowerCase()),\n    );\n\n    if (savedMoviesPage) {\n      setRequestSearchError({\n        isRequestError: false,\n        messageRequestError: '',\n      });\n      if (!searchText) {\n        setRequestSearchError({\n          isRequestError: true,\n          messageRequestError: 'Нужно ввести ключевое слово',\n        });\n        // return;\n      }\n      setFilteredSavedMovies(filter);\n    }\n\n    if (allMoviesPage) {\n      if (!searchText) {\n        setRequestSearchError({\n          isRequestError: true,\n          messageRequestError: 'Нужно ввести ключевое слово',\n        });\n        localStorage.removeItem('searchMovies');\n        setFilteredMovies([]);\n        setIsLoading(false);\n        return;\n      }\n      setRequestSearchError({\n        isRequestError: false,\n        messageRequestError: '',\n      });\n      setFilteredMovies(filter);\n      localStorage.setItem('searchMovies', JSON.stringify(filter));\n    }\n\n    if (filter.length === 0) {\n      setRequestSearchError({\n        isRequestError: true,\n        messageRequestError: 'Ничего не найдено',\n      });\n      setIsLoading(false);\n    }\n\n    setIsLoading(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='page'>\n        <Switch>\n          <Route exact path='/'>\n            <Header isLoggedIn={isLoggedIn} />\n            <Main isLoggedIn={isLoggedIn} />\n            <Footer />\n          </Route>\n\n          <ProtectedRoute\n            component={Movies}\n            exact\n            path='/movies'\n            isLoggedIn={isLoggedIn}\n            isLoading={isLoading}\n            movies={filteredMovies}\n            searchMovie={searchMovie}\n            onBookmark={handleBookmark}\n            onCheckBookmark={onCheckBookmark}\n            setRequestSearchError={setRequestSearchError}\n            requestSearchError={requestSearchError}\n          ></ProtectedRoute>\n\n          <ProtectedRoute\n            component={SavedMovies}\n            exact\n            path='/saved-movies'\n            isLoggedIn={isLoggedIn}\n            isLoading={isLoading}\n            movies={filteredSavedMovies}\n            searchMovie={searchMovie}\n            removeSavedMovies={removeSavedMovies}\n            setRequestSearchError={setRequestSearchError}\n            requestSearchError={requestSearchError}\n          ></ProtectedRoute>\n\n          <ProtectedRoute\n            component={Profile}\n            exact\n            path='/profile'\n            isLoggedIn={isLoggedIn}\n            onSignOut={handleSignOut}\n            onUpdateProfile={handleUpdateProfile}\n            requestEditProfileError={requestEditProfileError}\n          ></ProtectedRoute>\n\n          <Route path='/signup'>\n            {isLoggedIn ? (\n              <Redirect to='/movies' />\n            ) : (\n              <Register\n                onSignUp={handleSignUp}\n                requestSignUpError={requestSignUpError}\n              />\n            )}\n          </Route>\n\n          <Route path='/signin'>\n            {isLoggedIn ? (\n              <Redirect to='/movies' />\n            ) : (\n              <Login\n                onSignIn={handleSignIn}\n                requestSignInError={requestSignInError}\n              />\n            )}\n          </Route>\n\n          <Route>\n            <NotFound />\n          </Route>\n        </Switch>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}