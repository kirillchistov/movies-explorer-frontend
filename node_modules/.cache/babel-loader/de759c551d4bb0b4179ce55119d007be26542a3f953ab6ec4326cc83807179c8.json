{"ast":null,"code":"import _defineProperty from\"/Users/kirillchistov/Projects/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kirillchistov/Projects/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kirillchistov/Projects/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//  Хук для управления формой и валидации данных  //\nimport{useState,useCallback}from'react';var useFormWithValidation=function useFormWithValidation(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setIsValid=_useState6[1];var handleChange=function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name,validationMessage=_event$target.validationMessage;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,validationMessage)));setIsValid(event.target.closest(\"form\").checkValidity());};var resetForm=useCallback(function(){var newValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var newErrors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var newIsValid=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setValues(newValues);setErrors(newErrors);setIsValid(newIsValid);},[setValues,setErrors,setIsValid]);return{values:values,handleChange:handleChange,errors:errors,isValid:isValid,resetForm:resetForm};};export default useFormWithValidation;","map":{"version":3,"names":["useState","useCallback","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","handleChange","event","target","value","name","validationMessage","closest","checkValidity","resetForm","newValues","newErrors","newIsValid"],"sources":["/Users/kirillchistov/Projects/movies-explorer-frontend/src/hooks/useFormWithValidation.js"],"sourcesContent":["//  Хук для управления формой и валидации данных  //\nimport { useState, useCallback } from 'react';\n\nconst useFormWithValidation = () => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (event) => {\n    const { value, name, validationMessage } = event.target;\n    setValues({...values, [name]: value});\n    setErrors({...errors, [name]: validationMessage });\n    setIsValid(event.target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, errors, isValid, resetForm };\n}\n\nexport default useFormWithValidation;"],"mappings":"qaAAA;AACA,OAASA,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAE7C,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAqB,EAAS,CAClC,cAA4BF,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAAjCG,MAAM,eAAEC,SAAS,eACxB,eAA4BJ,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAAjCK,MAAM,eAAEC,SAAS,eACxB,eAA8BN,QAAQ,CAAC,KAAK,CAAC,yCAAtCO,OAAO,eAAEC,UAAU,eAE1B,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAK,CAC9B,kBAA2CA,KAAK,CAACC,MAAM,CAA/CC,KAAK,eAALA,KAAK,CAAEC,IAAI,eAAJA,IAAI,CAAEC,iBAAiB,eAAjBA,iBAAiB,CACtCV,SAAS,gCAAKD,MAAM,wBAAGU,IAAI,CAAGD,KAAK,GAAE,CACrCN,SAAS,gCAAKD,MAAM,wBAAGQ,IAAI,CAAGC,iBAAiB,GAAG,CAClDN,UAAU,CAACE,KAAK,CAACC,MAAM,CAACI,OAAO,CAAC,MAAM,CAAC,CAACC,aAAa,EAAE,CAAC,CAC1D,CAAC,CAED,GAAMC,UAAS,CAAGhB,WAAW,CAC3B,UAAwD,IAAvDiB,UAAS,2DAAG,CAAC,CAAC,IAAEC,UAAS,2DAAG,CAAC,CAAC,IAAEC,WAAU,2DAAG,KAAK,CACjDhB,SAAS,CAACc,SAAS,CAAC,CACpBZ,SAAS,CAACa,SAAS,CAAC,CACpBX,UAAU,CAACY,UAAU,CAAC,CACxB,CAAC,CACD,CAAChB,SAAS,CAAEE,SAAS,CAAEE,UAAU,CAAC,CACnC,CAED,MAAO,CAAEL,MAAM,CAANA,MAAM,CAAEM,YAAY,CAAZA,YAAY,CAAEJ,MAAM,CAANA,MAAM,CAAEE,OAAO,CAAPA,OAAO,CAAEU,SAAS,CAATA,SAAU,CAAC,CAC7D,CAAC,CAED,cAAef,sBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}