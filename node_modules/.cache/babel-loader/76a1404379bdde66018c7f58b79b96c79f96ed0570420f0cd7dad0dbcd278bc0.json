{"ast":null,"code":"import _slicedToArray from\"/Users/kirillchistov/Projects/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//  Компонент с галереей сохраненных фильмов  //\n//  Применяем фильтр по короткометражкам isShort //\nimport React,{useEffect,useState}from'react';import'./SavedMovies.css';import Header from'../Header/Header';import Search from'../Search/Search';import MoviesCardList from'../MoviesCardList/MoviesCardList';import ErrorMessage from'../ErrorMessage/ErrorMessage';import Footer from'../Footer/Footer';import{SHORTFILM}from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SavedMovies=function SavedMovies(_ref){var requestSearchError=_ref.requestSearchError,searchMovie=_ref.searchMovie,setRequestSearchError=_ref.setRequestSearchError,removeSavedMovies=_ref.removeSavedMovies,movies=_ref.movies,loggedIn=_ref.loggedIn;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isShort=_useState2[0],setIsShort=_useState2[1];var handleIsShort=function handleIsShort(){setIsShort(!isShort);};var listMovies=isShort?movies.filter(function(item){return item.duration<=SHORTFILM;}):movies;useEffect(function(){setRequestSearchError({isRequestError:false,messageRequestError:''});listMovies.length===0&&setRequestSearchError({isRequestError:true,messageRequestError:'Ничего не найдено'});},[isShort,listMovies.length,setRequestSearchError]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{loggedIn:loggedIn}),/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsx(Search,{onIsShort:handleIsShort,isShort:isShort,searchMovie:searchMovie}),/*#__PURE__*/_jsx(ErrorMessage,{requestSearchError:requestSearchError}),/*#__PURE__*/_jsx(MoviesCardList,{movies:listMovies,removeSavedMovies:removeSavedMovies})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default SavedMovies;","map":{"version":3,"names":["React","useEffect","useState","Header","Search","MoviesCardList","ErrorMessage","Footer","SHORTFILM","SavedMovies","requestSearchError","searchMovie","setRequestSearchError","removeSavedMovies","movies","loggedIn","isShort","setIsShort","handleIsShort","listMovies","filter","item","duration","isRequestError","messageRequestError","length"],"sources":["/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.jsx"],"sourcesContent":["//  Компонент с галереей сохраненных фильмов  //\n//  Применяем фильтр по короткометражкам isShort //\n\nimport React, { useEffect, useState } from 'react';\nimport './SavedMovies.css';\n\nimport Header from '../Header/Header';\nimport Search from '../Search/Search';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport ErrorMessage from '../ErrorMessage/ErrorMessage';\nimport Footer from '../Footer/Footer';\n\nimport { SHORTFILM } from '../../utils/constants';\n\nconst SavedMovies = ({\n  requestSearchError,\n  searchMovie,\n  setRequestSearchError,\n  removeSavedMovies,\n  movies,\n  loggedIn,\n}) => {\n  const [isShort, setIsShort] = useState(false);\n\n  const handleIsShort = () => {\n    setIsShort(!isShort);\n  }\n\n  const listMovies = isShort\n    ? movies.filter((item) => item.duration <= SHORTFILM)\n    : movies;\n\n  useEffect(() => {\n    setRequestSearchError({\n      isRequestError: false,\n      messageRequestError: '',\n    });\n    listMovies.length === 0 &&\n      setRequestSearchError({\n        isRequestError: true,\n        messageRequestError: 'Ничего не найдено',\n      });\n  }, [isShort, listMovies.length, setRequestSearchError]);\n\n  return (\n    <>\n      <Header loggedIn={loggedIn} />\n      <main className='content'>\n        <Search\n          onIsShort={handleIsShort}\n          isShort={isShort}\n          searchMovie={searchMovie}\n        />\n\n        <ErrorMessage requestSearchError={requestSearchError} />\n\n        <MoviesCardList\n          movies={listMovies}\n          removeSavedMovies={removeSavedMovies}\n        />\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default SavedMovies;\n"],"mappings":"4IAAA;AACA;AAEA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,mBAAmB,CAE1B,MAAOC,OAAM,KAAM,kBAAkB,CACrC,MAAOC,OAAM,KAAM,kBAAkB,CACrC,MAAOC,eAAc,KAAM,kCAAkC,CAC7D,MAAOC,aAAY,KAAM,8BAA8B,CACvD,MAAOC,OAAM,KAAM,kBAAkB,CAErC,OAASC,SAAS,KAAQ,uBAAuB,CAAC,6IAElD,GAAMC,YAAW,CAAG,QAAdA,YAAW,MAOX,IANJC,mBAAkB,MAAlBA,kBAAkB,CAClBC,WAAW,MAAXA,WAAW,CACXC,qBAAqB,MAArBA,qBAAqB,CACrBC,iBAAiB,MAAjBA,iBAAiB,CACjBC,MAAM,MAANA,MAAM,CACNC,QAAQ,MAARA,QAAQ,CAER,cAA8Bb,QAAQ,CAAC,KAAK,CAAC,wCAAtCc,OAAO,eAAEC,UAAU,eAE1B,GAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC1BD,UAAU,CAAC,CAACD,OAAO,CAAC,CACtB,CAAC,CAED,GAAMG,WAAU,CAAGH,OAAO,CACtBF,MAAM,CAACM,MAAM,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACC,QAAQ,EAAId,SAAS,GAAC,CACnDM,MAAM,CAEVb,SAAS,CAAC,UAAM,CACdW,qBAAqB,CAAC,CACpBW,cAAc,CAAE,KAAK,CACrBC,mBAAmB,CAAE,EACvB,CAAC,CAAC,CACFL,UAAU,CAACM,MAAM,GAAK,CAAC,EACrBb,qBAAqB,CAAC,CACpBW,cAAc,CAAE,IAAI,CACpBC,mBAAmB,CAAE,mBACvB,CAAC,CAAC,CACN,CAAC,CAAE,CAACR,OAAO,CAAEG,UAAU,CAACM,MAAM,CAAEb,qBAAqB,CAAC,CAAC,CAEvD,mBACE,wCACE,KAAC,MAAM,EAAC,QAAQ,CAAEG,QAAS,EAAG,cAC9B,cAAM,SAAS,CAAC,SAAS,wBACvB,KAAC,MAAM,EACL,SAAS,CAAEG,aAAc,CACzB,OAAO,CAAEF,OAAQ,CACjB,WAAW,CAAEL,WAAY,EACzB,cAEF,KAAC,YAAY,EAAC,kBAAkB,CAAED,kBAAmB,EAAG,cAExD,KAAC,cAAc,EACb,MAAM,CAAES,UAAW,CACnB,iBAAiB,CAAEN,iBAAkB,EACrC,GACG,cACP,KAAC,MAAM,IAAG,GACT,CAEP,CAAC,CAED,cAAeJ,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}