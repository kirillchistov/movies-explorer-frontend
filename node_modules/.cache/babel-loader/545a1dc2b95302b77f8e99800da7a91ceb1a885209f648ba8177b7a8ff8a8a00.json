{"ast":null,"code":"import _objectSpread from\"/Users/kirillchistov/Projects/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";//  Компонент карточки фильма  //\nimport React from'react';import{useLocation}from'react-router-dom';import'./MoviesCard.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MoviesCard=function MoviesCard(_ref){var onBookmark=_ref.onBookmark,onCheckBookmark=_ref.onCheckBookmark,removeSavedMovies=_ref.removeSavedMovies,card=_ref.card;var location=useLocation();var handleClick=function handleClick(){if(allMoviesPage){onBookmark(_objectSpread(_objectSpread({},card),{},{image:imageSource,thumbnail:imageSource}));}if(savedMoviesPage){removeSavedMovies(card);}};var allMoviesPage=location.pathname==='/movies';var savedMoviesPage=location.pathname==='/saved-movies';var buttonClassName=savedMoviesPage?\"element__bookmark element__bookmark_delete link\":\"element__bookmark \".concat(onCheckBookmark(card)?'element__bookmark_add':'element__bookmark_empty',\" link\");var imageSource=allMoviesPage?\"https://api.nomoreparties.co/\".concat(card.image.url):card.image;// длительность фильма в формат чч:мм\nvar time=function time(){var hours=Math.floor(card.duration/60);var minutes=card.duration%60;return\"\".concat(hours,\"\\u0447 \").concat(minutes,\"\\u043C\");};return/*#__PURE__*/_jsxs(\"li\",{className:\"element\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"element__description\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"element__name\",children:card.nameRU}),/*#__PURE__*/_jsx(\"p\",{className:\"element__duration\",children:time()})]}),/*#__PURE__*/_jsx(\"button\",{className:buttonClassName,type:\"button\",onClick:handleClick})]}),/*#__PURE__*/_jsx(\"a\",{href:card.trailerLink,target:\"blank\",className:\"link\",children:/*#__PURE__*/_jsx(\"img\",{src:imageSource,alt:\"\\u0418\\u043B\\u043B\\u044E\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \\u0444\\u0438\\u043B\\u044C\\u043C\\u0430 \".concat(card.nameRU),className:\"element__image\"})})]});};export default MoviesCard;","map":{"version":3,"names":["React","useLocation","MoviesCard","onBookmark","onCheckBookmark","removeSavedMovies","card","location","handleClick","allMoviesPage","image","imageSource","thumbnail","savedMoviesPage","pathname","buttonClassName","url","time","hours","Math","floor","duration","minutes","nameRU","trailerLink"],"sources":["/Users/kirillchistov/Projects/movies-explorer-frontend/src/components/MoviesCard/MoviesCard.jsx"],"sourcesContent":["//  Компонент карточки фильма  //\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport './MoviesCard.css';\n\nconst MoviesCard = ({ onBookmark, onCheckBookmark, removeSavedMovies, card }) => {\n  const location = useLocation();\n\n  const handleClick = () => {\n    if (allMoviesPage) {\n      onBookmark({ ...card, image: imageSource, thumbnail: imageSource });\n    }\n    if (savedMoviesPage) {\n      removeSavedMovies(card);\n    }\n  }\n\n  const allMoviesPage = location.pathname === '/movies';\n  const savedMoviesPage = location.pathname === '/saved-movies';\n  const buttonClassName = savedMoviesPage\n    ? `element__bookmark element__bookmark_delete link`\n    : `element__bookmark ${\n        onCheckBookmark(card)\n          ? 'element__bookmark_add'\n          : 'element__bookmark_empty'\n      } link`;\n  const imageSource = allMoviesPage\n    ? `https://api.nomoreparties.co/${card.image.url}`\n    : card.image;\n\n  // длительность фильма в формат чч:мм\n  const time = () => {\n    const hours = Math.floor(card.duration / 60);\n    const minutes = card.duration % 60;\n    return `${hours}ч ${minutes}м`;\n  }\n\n  return (\n    <li className='element'>\n      <div className='element__description'>\n        <div>\n          <h4 className='element__name'>{card.nameRU}</h4>\n          <p className='element__duration'>{time()}</p>\n        </div>\n        <button\n          className={buttonClassName}\n          type='button'\n          onClick={handleClick}\n        ></button>\n      </div>\n      <a href={card.trailerLink} target='blank' className='link'>\n        <img\n          src={imageSource}\n          alt={`Иллюстрация фильма ${card.nameRU}`}\n          className='element__image'\n        />\n      </a>\n    </li>\n  );\n}\n\nexport default MoviesCard;"],"mappings":"2IAAA;AACA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,MAAO,kBAAkB,CAAC,wFAE1B,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAiE,IAA3DC,WAAU,MAAVA,UAAU,CAAEC,eAAe,MAAfA,eAAe,CAAEC,iBAAiB,MAAjBA,iBAAiB,CAAEC,IAAI,MAAJA,IAAI,CACxE,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAE9B,GAAMO,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,GAAIC,aAAa,CAAE,CACjBN,UAAU,gCAAMG,IAAI,MAAEI,KAAK,CAAEC,WAAW,CAAEC,SAAS,CAAED,WAAW,GAAG,CACrE,CACA,GAAIE,eAAe,CAAE,CACnBR,iBAAiB,CAACC,IAAI,CAAC,CACzB,CACF,CAAC,CAED,GAAMG,cAAa,CAAGF,QAAQ,CAACO,QAAQ,GAAK,SAAS,CACrD,GAAMD,gBAAe,CAAGN,QAAQ,CAACO,QAAQ,GAAK,eAAe,CAC7D,GAAMC,gBAAe,CAAGF,eAAe,+EAGjCT,eAAe,CAACE,IAAI,CAAC,CACjB,uBAAuB,CACvB,yBAAyB,SACxB,CACX,GAAMK,YAAW,CAAGF,aAAa,wCACGH,IAAI,CAACI,KAAK,CAACM,GAAG,EAC9CV,IAAI,CAACI,KAAK,CAEd;AACA,GAAMO,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,GAAMC,MAAK,CAAGC,IAAI,CAACC,KAAK,CAACd,IAAI,CAACe,QAAQ,CAAG,EAAE,CAAC,CAC5C,GAAMC,QAAO,CAAGhB,IAAI,CAACe,QAAQ,CAAG,EAAE,CAClC,gBAAUH,KAAK,mBAAKI,OAAO,WAC7B,CAAC,CAED,mBACE,YAAI,SAAS,CAAC,SAAS,wBACrB,aAAK,SAAS,CAAC,sBAAsB,wBACnC,oCACE,WAAI,SAAS,CAAC,eAAe,UAAEhB,IAAI,CAACiB,MAAM,EAAM,cAChD,UAAG,SAAS,CAAC,mBAAmB,UAAEN,IAAI,EAAE,EAAK,GACzC,cACN,eACE,SAAS,CAAEF,eAAgB,CAC3B,IAAI,CAAC,QAAQ,CACb,OAAO,CAAEP,WAAY,EACb,GACN,cACN,UAAG,IAAI,CAAEF,IAAI,CAACkB,WAAY,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,uBACxD,YACE,GAAG,CAAEb,WAAY,CACjB,GAAG,mHAAwBL,IAAI,CAACiB,MAAM,CAAG,CACzC,SAAS,CAAC,gBAAgB,EAC1B,EACA,GACD,CAET,CAAC,CAED,cAAerB,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}